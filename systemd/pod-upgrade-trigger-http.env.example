# Example environment file for the pod-upgrade-trigger HTTP user service.
# Copy this file to:
#   ~/.config/pod-upgrade-trigger-http.env
# and adjust values to match your environment before enabling the unit.
#
# The user systemd unit systemd/pod-upgrade-trigger-http.user.service.example
# references this file via:
#   EnvironmentFile=%h/.config/pod-upgrade-trigger-http.env
#
# NOTE:
# - For existing deployments, set PODUP_STATE_DIR to the state directory
#   currently used in production (for example /srv/webhook/data) to avoid
#   migrating data.
# - The examples below assume a single-user installation under the ivan account.

# Directory for SQLite databases, payload dumps, and other durable state.
# For a fresh user-level deployment you can keep this under the user's home;
# for an existing deployment, point this to the current state directory instead.
PODUP_STATE_DIR=/srv/pod-upgrade-trigger

# Address for the built-in HTTP server used by the `http-server` subcommand.
# Keep this on the loopback interface when exposing it via Traefik/webhook-proxy.
PODUP_HTTP_ADDR=127.0.0.1:25111

# Shared secret for the GitHub webhook signature.
PODUP_GH_WEBHOOK_SECRET=change-me

# Token required by /auto-update and manual JSON API callers.
PODUP_TOKEN=change-me-too

# Optional dedicated token for manual JSON API requests.
PODUP_MANUAL_TOKEN=

# SQLite connection string for structured event logging. When unset, the
# service defaults to a SQLite database under PODUP_STATE_DIR.
# Example with an explicit absolute path:
# PODUP_DB_URL=sqlite:///srv/pod-upgrade-trigger/data/pod-upgrade-trigger.db

