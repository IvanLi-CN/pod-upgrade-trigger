# Directory for rate-limit databases, payload dumps, and other state
PODUP_STATE_DIR=/var/lib/pod-upgrade-trigger

# Address for the built-in HTTP server used by the `http-server` subcommand
PODUP_HTTP_ADDR=127.0.0.1:25111

# Shared secret for the GitHub webhook signature
PODUP_GH_WEBHOOK_SECRET=change-me

# Legacy token (no longer used for admin auth; kept for compatibility/UI status)
PODUP_TOKEN=change-me-too

# SQLite connection string for structured event logging (defaults to data/pod-upgrade-trigger.db)
PODUP_DB_URL=sqlite:///var/lib/pod-upgrade-trigger/event_log.db

# Comma-separated list of additional units to restart when --trigger-units --all is used
PODUP_MANUAL_UNITS=service-a,service-b/redeploy

# Overridden manual auto-update unit (defaults to podman-auto-update.service)
PODUP_MANUAL_AUTO_UPDATE_UNIT=podman-auto-update.service

# Optional directory for podman auto-update JSONL logs (produced by
# podman-update-manager.ts). When unset, defaults to
# $HOME/.local/share/podman-auto-update/logs.
# PODUP_AUTO_UPDATE_LOG_DIR=/home/<user>/.local/share/podman-auto-update/logs

# Interval (seconds) used by --scheduler mode when PODUP_SCHEDULER_INTERVAL_SECS is not passed on the CLI
PODUP_SCHEDULER_INTERVAL_SECS=900

# Optional ForwardAuth integration for admin-only APIs (primarily /api/*).
# Note: incoming GitHub webhooks under /github-package-update/* only validate
# GitHub HMAC signatures via PODUP_GH_WEBHOOK_SECRET (no ForwardAuth/CSRF).
# In production, configure these and leave PODUP_DEV_OPEN_ADMIN unset (or 0).
# PODUP_FWD_AUTH_HEADER=X-Forwarded-User
# PODUP_FWD_AUTH_ADMIN_VALUE=admin@example.com
# PODUP_FWD_AUTH_NICKNAME_HEADER=X-Forwarded-Name
# PODUP_ADMIN_MODE_NAME=admin

# Development-only override: when set to 1/true/yes, all admin APIs are open
# without checking ForwardAuth headers. DO NOT enable this in production.
# PODUP_DEV_OPEN_ADMIN=1
